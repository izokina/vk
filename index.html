<html>
 <head>
  <title>VK</title>
  <script src="//vk.com/js/api/openapi.js" type="text/javascript"></script>
  <style>
#log, #log > div {
  border-style : solid;
  border-width : 1px;
}
#log {
  padding : 13px;
  background-color : #ffffee;
  border-color : #ffff00;
}
#log > div {
  padding : 8px;
  background-color : #ddffcc;
  border-color : #55ff00;
}
  </style>
 </head>
 <body>
  <script type="text/javascript">
    VK.init({
      apiId: 1943647
    });
    var ME = {};
    ME.log = function(text) {
      var el = document.createElement('div');
      el.textContent = text;
      document.getElementById('log').appendChild(el);
    };
    ME.getStatus = function(id, action) {
      VK.Api.call('status.get', {user_id : id}, function(r) {
        if (r.response) {
          action(r.response.text);
        }
      });
    }
    function go() {
      VK.Auth.login(function(response) {
        if (response.session) {
          ME.log('User: ' + response.session.mid);
        } else {
          alert('Auth failed!');
        }
      }, 1024);
    };
  </script>
  <form>
   <input type='button' value='Go' onClick='go()'/>
   <input type='text' id='statusId'/>
   <input type='button' value='Get status' onClick='var value = document.getElementById("statusId").value; ME.getStatus(value, function(text) { ME.log(value + ": " + text); })'/>
  </form>
  <div id='log'>
  </div>
 </body>
</html>
